<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Om Panchal | Cyber-Portfolio [Ultimate + AI]</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google Fonts: Poppins & Fira Code for glitch effect -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Fira+Code&display=swap" rel="stylesheet">
  
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🤖</text></svg>">

  <style>
    /* --- Base Styles & Custom Properties --- */
    :root {
      --bg-color: #0a0a10;
      --primary-color: #00f0ff;
      --secondary-color: #7a00ff;
      --glass-bg: rgba(16, 16, 24, 0.6);
      --border-color: rgba(0, 240, 255, 0.2);
      font-family: 'Poppins', sans-serif;
    }

    body {
      background-color: var(--bg-color);
      color: #e0e0e0;
      cursor: none;
      overflow-x: hidden;
    }
    
    /* --- Visual Effects: Scanlines & Glitch --- */
    .scanline-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
        background-size: 100% 3px, 4px 100%;
        z-index: 9999;
        animation: scanline 15s linear infinite;
    }
    @keyframes scanline {
        0% { background-position: 0 0; }
        100% { background-position: 0 100%; }
    }
    .glitch {
        font-family: 'Fira Code', monospace;
        position: relative;
    }
    .glitch:before, .glitch:after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--bg-color);
        overflow: hidden;
        clip: rect(0, 900px, 0, 0);
    }
    .glitch:before {
        left: 2px;
        text-shadow: -2px 0 var(--secondary-color);
        animation: glitch-anim-1 2s infinite linear alternate-reverse;
    }
    .glitch:after {
        left: -2px;
        text-shadow: -2px 0 var(--primary-color), 2px 2px var(--secondary-color);
        animation: glitch-anim-2 3s infinite linear alternate-reverse;
    }
    @keyframes glitch-anim-1 { 0%, 100% { clip: rect(42px, 9999px, 44px, 0); } 20% { clip: rect(12px, 9999px, 56px, 0); } 40% { clip: rect(37px, 9999px, 24px, 0); } 60% { clip: rect(70px, 9999px, 10px, 0); } 80% { clip: rect(90px, 9999px, 40px, 0); } }
    @keyframes glitch-anim-2 { 0%, 100% { clip: rect(65px, 9999px, 100px, 0); } 20% { clip: rect(15px, 9999px, 80px, 0); } 40% { clip: rect(5px, 9999px, 40px, 0); } 60% { clip: rect(30px, 9999px, 95px, 0); } 80% { clip: rect(80px, 9999px, 55px, 0); } }

    /* --- 3D Background Canvas --- */
    #bg-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      z-index: -1;
      opacity: 0.5;
    }

    /* --- Custom Cursor --- */
    .cursor-dot, .cursor-outline {
      pointer-events: none;
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      z-index: 10000;
      transition: transform 0.2s ease-out, opacity 0.2s ease-out;
    }
    .cursor-dot { width: 8px; height: 8px; background-color: var(--primary-color); }
    .cursor-outline { width: 40px; height: 40px; border: 2px solid var(--primary-color); opacity: 0.5; }
    .cursor-dot.hidden, .cursor-outline.hidden { opacity: 0; }
    .cursor-outline.hover { transform: translate(-50%, -50%) scale(1.5); opacity: 0.8; }

    /* --- Glassmorphism & Borders --- */
    .glass-card {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid var(--border-color);
      border-radius: 1rem;
      transition: all 0.3s ease;
    }
    .glass-card:hover {
      border-color: rgba(var(--primary-rgb), 0.6);
      box-shadow: 0 0 20px rgba(var(--primary-rgb), 0.2);
    }

    /* --- Scroll Animations --- */
    .reveal { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
    .reveal.visible { opacity: 1; transform: translateY(0); }

    /* --- Neon Text & Button Glow --- */
    .text-glow { text-shadow: 0 0 8px var(--primary-color), 0 0 20px var(--secondary-color); }
    .btn-glow { box-shadow: 0 0 10px var(--primary-color), 0 0 20px var(--primary-color) inset; }
    .btn-glow:hover { box-shadow: 0 0 20px var(--primary-color), 0 0 40px var(--primary-color) inset; }
    
    /* --- Mobile Navigation --- */
    #mobile-menu {
        transition: transform 0.3s ease-in-out;
    }
    
    /* --- Modals (Project & Chat) --- */
    .modal-container { transition: opacity 0.3s ease, visibility 0.3s ease; }
    .modal-content { transition: transform 0.3s ease; }

    /* --- Theme Customizer --- */
    #theme-customizer {
        transition: transform 0.3s ease-in-out;
    }

    /* --- Chatbot Styles --- */
    #chat-log::-webkit-scrollbar { width: 4px; }
    #chat-log::-webkit-scrollbar-thumb { background-color: var(--primary-color); border-radius: 2px; }
    #chat-log::-webkit-scrollbar-track { background-color: transparent; }
    .chat-bubble { max-width: 80%; }
    .chat-bubble.user { background-color: var(--primary-color); color: var(--bg-color); }
    .chat-bubble.ai { background-color: #27272a; }
  </style>
</head>
<body class="antialiased">

  <!-- Visual Overlays -->
  <div class="scanline-overlay"></div>
  <canvas id="bg-canvas"></canvas>
  
  <!-- Custom Cursor -->
  <div class="cursor-dot"></div>
  <div class="cursor-outline"></div>

  <!-- Header -->
  <header class="glass-card fixed top-4 left-1/2 -translate-x-1/2 w-[95%] max-w-6xl z-50">
    <nav class="flex items-center justify-between px-6 py-3">
      <a href="#home" class="text-xl font-bold text-glow">Om Panchal</a>
      <div class="hidden md:flex items-center space-x-6">
        <a href="#about" class="hover:text-[var(--primary-color)] transition-colors">About</a>
        <a href="#skills" class="hover:text-[var(--primary-color)] transition-colors">Skills</a>
        <a href="#projects" class="hover:text-[var(--primary-color)] transition-colors">Projects</a>
        <a href="#contact" class="hover:text-[var(--primary-color)] transition-colors">Contact</a>
        <button id="chat-btn" class="bg-transparent border border-[var(--primary-color)] text-[var(--primary-color)] px-3 py-1 rounded-lg text-sm hover:bg-[var(--primary-color)] hover:text-black transition-colors">AI Chat</button>
      </div>
      <a href="#contact" class="hidden md:block bg-[var(--primary-color)] text-[var(--bg-color)] px-4 py-2 rounded-lg font-semibold hover:opacity-80 transition-opacity">
        Hire Me
      </a>
      <!-- Mobile Menu Button -->
      <button id="menu-btn" class="md:hidden text-2xl z-50">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
      </button>
    </nav>
  </header>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="fixed inset-0 bg-[var(--bg-color)] z-40 transform translate-x-full md:hidden flex flex-col items-center justify-center space-y-8 text-2xl">
    <a href="#about" class="mobile-link">About</a>
    <a href="#skills" class="mobile-link">Skills</a>
    <a href="#projects" class="mobile-link">Projects</a>
    <a href="#contact" class="mobile-link">Contact</a>
    <button id="mobile-chat-btn" class="text-[var(--primary-color)] border border-[var(--primary-color)] px-4 py-2 rounded-lg">AI Chat</button>
  </div>

  <!-- Main Content -->
  <main class="container mx-auto px-4 pt-32">

    <!-- Hero Section -->
    <section id="home" class="min-h-[70vh] flex flex-col items-center justify-center text-center reveal">
      <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold mb-4 glitch" data-text="Crafting Digital Realities">
        Crafting Digital Realities
      </h1>
      <p class="text-lg md:text-xl max-w-3xl mb-8">
        I'm a developer specializing in <span class="text-[var(--primary-color)] font-semibold">Web Development</span>, <span class="text-[var(--primary-color)] font-semibold">Blockchain</span>, and <span class="text-[var(--primary-color)] font-semibold">AI</span>.
        I transform complex problems into elegant, high-performance digital solutions.
      </p>
      <div id="typed-container" class="text-xl text-gray-400 h-8 mb-8">
        <span id="typed-text"></span>
      </div>
      <a href="#projects" class="bg-transparent border-2 border-[var(--primary-color)] text-[var(--primary-color)] px-8 py-3 rounded-lg font-bold transition-all hover:bg-[var(--primary-color)] hover:text-[var(--bg-color)] hover:shadow-lg hover:shadow-[var(--primary-color)]/30">
        Explore My Work
      </a>
    </section>

    <!-- About, Skills, Projects, Achievements, Contact Sections remain the same -->
    <!-- About Section -->
    <section id="about" class="py-24 reveal">
        <h2 class="text-4xl font-bold text-center mb-12 text-glow">About Me</h2>
        <div class="glass-card p-8 md:p-12 flex flex-col md:flex-row items-center gap-12">
            <img src="https://placehold.co/400x400/0a0a10/00f0ff?text=OP" alt="Om Panchal" class="w-48 h-48 md:w-60 md:h-60 rounded-full object-cover border-4 border-[var(--primary-color)] shadow-lg shadow-[var(--primary-color)]/20">
            <div class="text-left">
                <p class="mb-4">Hello! I'm Om Panchal — a passionate and detail-oriented developer with a strong foundation in both front-end and back-end technologies. I take pride in crafting clean, responsive, and intuitive user interfaces that transform ideas into engaging digital experiences.</p>
                <p class="mb-4">My journey in tech is driven by a curiosity for what's next. I'm currently delving into the fascinating fields of Blockchain and Artificial Intelligence, with the goal of building smarter, more secure, and future-ready applications that push the boundaries of what's possible.</p>
                <a href="mailto:om.panchal.dev@gmail.com" class="inline-block text-[var(--primary-color)] font-semibold border-b-2 border-transparent hover:border-[var(--primary-color)] transition-all">Let's connect & build something amazing &rarr;</a>
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="py-24 reveal">
        <h2 class="text-4xl font-bold text-center mb-12 text-glow">Core Technologies</h2>
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">
            <div class="glass-card text-center p-6 flex flex-col items-center justify-center"> <div class="text-5xl mb-3">💻</div> <h3 class="font-semibold text-lg">React & Node.js</h3> </div>
            <div class="glass-card text-center p-6 flex flex-col items-center justify-center"> <div class="text-5xl mb-3">🔗</div> <h3 class="font-semibold text-lg">Solidity & dApps</h3> </div>
            <div class="glass-card text-center p-6 flex flex-col items-center justify-center"> <div class="text-5xl mb-3">🧠</div> <h3 class="font-semibold text-lg">TensorFlow & AI</h3> </div>
            <div class="glass-card text-center p-6 flex flex-col items-center justify-center"> <div class="text-5xl mb-3">🎨</div> <h3 class="font-semibold text-lg">Tailwind CSS</h3> </div>
            <div class="glass-card text-center p-6 flex flex-col items-center justify-center"> <div class="text-5xl mb-3">☁️</div> <h3 class="font-semibold text-lg">MongoDB</h3> </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-24 reveal">
      <h2 class="text-4xl font-bold text-center mb-12 text-glow">Featured Projects</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        <div class="glass-card group overflow-hidden cursor-pointer project-card" 
             data-title="Blockchain Event Ticketing System"
             data-description="A decentralized application for creating and selling event tickets on the Ethereum blockchain, eliminating fraud and scalping. Users can manage events and tickets via MetaMask."
             data-tech="Solidity, React, Hardhat, Ethers.js"
             data-image="https://placehold.co/600x400/0a0a10/7a00ff?text=Project+1"
             data-live-url="#" data-github-url="#">
          <img src="Images/project1.jpg" alt="Project 1" class="w-full h-60 object-cover group-hover:scale-105 transition-transform duration-300">
          <div class="p-6"> <h3 class="text-xl font-bold mb-2">Blockchain Event Ticketing</h3> <p class="text-gray-400 text-sm">Decentralized Ticketing Platform</p> </div>
        </div>
        <div class="glass-card group overflow-hidden cursor-pointer project-card"
             data-title="AI Mental Health Chatbot"
             data-description="An intelligent chatbot designed to provide preliminary mental health support and resources. It uses Natural Language Processing to understand user queries and provide empathetic responses."
             data-tech="Python, TensorFlow, Flask, React"
             data-image="https://placehold.co/600x400/0a0a10/00f0ff?text=Project+2"
             data-live-url="#" data-github-url="#">
          <img src="Images/project2.jpg" alt="Project 2" class="w-full h-60 object-cover group-hover:scale-105 transition-transform duration-300">
          <div class="p-6"> <h3 class="text-xl font-bold mb-2">AI Mental Health Chatbot</h3> <p class="text-gray-400 text-sm">Empathetic AI Companion</p> </div>
        </div>
        <div class="glass-card group overflow-hidden cursor-pointer project-card"
             data-title="FarmChain - Equipment Rental"
             data-description="A blockchain-based marketplace for renting and sharing farm equipment. This platform provides a transparent and secure way for farmers to monetize their assets."
             data-tech="Solidity, Next.js, IPFS, The Graph"
             data-image="https://placehold.co/600x400/0a0a10/ffffff?text=Project+3"
             data-live-url="#" data-github-url="#">
          <img src="Images/project3.webp" alt="Project 3" class="w-full h-60 object-cover group-hover:scale-105 transition-transform duration-300">
          <div class="p-6"> <h3 class="text-xl font-bold mb-2">FarmChain - Equipment Rental</h3> <p class="text-gray-400 text-sm">P2P Agricultural Marketplace</p> </div>
        </div>
      </div>
    </section>
    
    <!-- Achievements Section -->
    <section id="achievements" class="py-24 reveal">
        <h2 class="text-4xl font-bold text-center mb-12 text-glow">Milestones</h2>
        <div class="max-w-4xl mx-auto space-y-8">
            <div class="glass-card p-6 flex items-start gap-6">
                <div class="text-4xl text-[var(--primary-color)]">🏆</div>
                <div> <h3 class="font-bold text-xl">Top 1% - National Hackathon 2025</h3> <p class="text-gray-400">Developed a high-impact Blockchain application, recognized for innovation and functionality among thousands of participants.</p> </div>
            </div>
            <div class="glass-card p-6 flex items-start gap-6">
                <div class="text-4xl text-[var(--primary-color)]">📄</div>
                <div> <h3 class="font-bold text-xl">Published Research Paper - Springer 2025</h3> <p class="text-gray-400">Authored a paper on the application of AI in Healthcare, contributing to academic literature on AI-driven medical solutions.</p> </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-24 text-center reveal">
      <h2 class="text-4xl font-bold mb-4 text-glow">Let's Build the Future</h2>
      <p class="max-w-2xl mx-auto mb-8 text-gray-300">I'm currently available for freelance work and open to discussing new projects. If you have an idea you'd like to bring to life, let's talk.</p>
      <a href="mailto:om.panchal.dev@gmail.com" class="inline-block bg-[var(--primary-color)] text-[var(--bg-color)] px-10 py-4 rounded-lg font-bold text-lg transition-all hover:scale-105 btn-glow">
        om.panchal.dev@gmail.com
      </a>
      <div class="flex justify-center space-x-8 mt-12">
        <a href="https://github.com/om-panchal" target="_blank" class="text-gray-400 hover:text-[var(--primary-color)] transition-colors">GitHub</a>
        <a href="https://linkedin.com/in/om-panchal" target="_blank" class="text-gray-400 hover:text-[var(--primary-color)] transition-colors">LinkedIn</a>
      </div>
    </section>
  </main>
  
  <!-- Footer -->
  <footer class="text-center py-8 border-t border-[var(--border-color)] mt-12">
    <p class="text-gray-500">&copy; 2025 Om Panchal. All rights reserved.</p>
  </footer>

  <!-- Project Modal -->
  <div id="project-modal" class="modal-container fixed inset-0 bg-black bg-opacity-80 z-[60] flex items-center justify-center p-4 invisible opacity-0">
    <div class="modal-content glass-card max-w-3xl w-full relative transform scale-95">
      <button id="modal-close" class="absolute -top-4 -right-4 bg-[var(--primary-color)] text-[var(--bg-color)] w-10 h-10 rounded-full text-2xl font-bold">&times;</button>
      <img id="modal-image" src="" alt="Project Image" class="w-full h-64 object-cover rounded-t-lg">
      <div class="p-8">
        <h2 id="modal-title" class="text-3xl font-bold mb-2 text-glow"></h2>
        <p id="modal-description" class="mb-4"></p>
        <div class="mb-6">
            <h4 class="font-semibold w-full mb-2">Tech Stack:</h4>
            <div id="modal-tech" class="flex flex-wrap gap-2"></div>
        </div>
        <div id="modal-links" class="flex gap-4"></div>
      </div>
    </div>
  </div>
  
  <!-- AI Chatbot Modal -->
  <div id="chat-modal" class="modal-container fixed inset-0 bg-black bg-opacity-80 z-[60] flex items-center justify-center p-4 invisible opacity-0">
    <div class="modal-content glass-card max-w-lg w-full h-[70vh] flex flex-col relative transform scale-95">
        <div class="flex items-center justify-between p-4 border-b border-[var(--border-color)]">
            <h2 class="text-xl font-bold text-glow">AI Assistant</h2>
            <button id="chat-close" class="text-2xl font-bold">&times;</button>
        </div>
        <div id="chat-log" class="flex-grow p-4 space-y-4 overflow-y-auto">
            <!-- Chat messages will be appended here -->
        </div>
        <div id="chat-loading" class="p-4 text-center hidden">
            <span class="text-[var(--primary-color)]">AI is thinking...</span>
        </div>
        <div class="p-4 border-t border-[var(--border-color)]">
            <form id="chat-form" class="flex gap-2">
                <input type="text" id="chat-input" placeholder="Ask me anything..." class="flex-grow bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 focus:outline-none focus:border-[var(--primary-color)]">
                <button type="submit" class="bg-[var(--primary-color)] text-black px-4 py-2 rounded-lg font-semibold">Send</button>
            </form>
        </div>
    </div>
  </div>


  <!-- Theme Customizer -->
  <div id="theme-customizer" class="fixed top-1/2 -translate-y-1/2 -right-48 glass-card p-4 z-50 transform">
      <button id="customizer-toggle" class="absolute left-[-48px] top-0 bg-[var(--primary-color)] text-black p-3 rounded-l-lg">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1.51 1H15a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
      </button>
      <h4 class="font-bold mb-2">Theme Color</h4>
      <div class="flex gap-2">
          <div class="color-swatch w-8 h-8 rounded-full cursor-pointer" style="background-color: #00f0ff;" data-color="#00f0ff"></div>
          <div class="color-swatch w-8 h-8 rounded-full cursor-pointer" style="background-color: #00ff7f;" data-color="#00ff7f"></div>
          <div class="color-swatch w-8 h-8 rounded-full cursor-pointer" style="background-color: #ff4da6;" data-color="#ff4da6"></div>
          <div class="color-swatch w-8 h-8 rounded-full cursor-pointer" style="background-color: #ffff00;" data-color="#ffff00"></div>
      </div>
  </div>

  <!-- UI Sound Effects -->
  <audio id="hover-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_24162813c9.mp3" preload="auto"></audio>
  <audio id="click-sound" src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_c848a8736e.mp3" preload="auto"></audio>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {

      const root = document.documentElement;

      // --- 1. 3D Background Animation ---
      const initThreeJS = () => {
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.position.z = 5;
        const particlesGeometry = new THREE.BufferGeometry;
        const particlesCount = 5000;
        const posArray = new Float32Array(particlesCount * 3);
        for (let i = 0; i < particlesCount * 3; i++) { posArray[i] = (Math.random() - 0.5) * 10; }
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMaterial = new THREE.PointsMaterial({ size: 0.008, color: getComputedStyle(root).getPropertyValue('--primary-color') });
        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);
        let mouseX = 0, mouseY = 0;
        document.addEventListener('mousemove', (event) => { mouseX = (event.clientX / window.innerWidth) * 2 - 1; mouseY = -(event.clientY / window.innerHeight) * 2 + 1; });
        const clock = new THREE.Clock();
        const animate = () => {
          const elapsedTime = clock.getElapsedTime();
          particlesMesh.rotation.y = elapsedTime * 0.1;
          particlesMesh.rotation.x = mouseY * 0.2;
          particlesMesh.rotation.y += mouseX * 0.2;
          renderer.render(scene, camera);
          window.requestAnimationFrame(animate);
        };
        animate();
        window.addEventListener('resize', () => {
          renderer.setSize(window.innerWidth, window.innerHeight);
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
        });
        document.addEventListener('themeChanged', (e) => {
            particlesMesh.material.color.set(e.detail.color);
        });
      };
      
      // --- 2. Custom Cursor & Sound Logic ---
      const initCursorAndSounds = () => {
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        const hoverSound = document.getElementById('hover-sound');
        const clickSound = document.getElementById('click-sound');
        hoverSound.volume = 0.2;
        clickSound.volume = 0.3;

        window.addEventListener('mousemove', (e) => {
          const posX = e.clientX;
          const posY = e.clientY;
          cursorDot.style.left = `${posX}px`;
          cursorDot.style.top = `${posY}px`;
          cursorOutline.style.left = `${posX}px`;
          cursorOutline.style.top = `${posY}px`;
        });
        
        const interactiveElements = document.querySelectorAll('a, button, .project-card, .color-swatch');
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursorOutline.classList.add('hover');
                hoverSound.currentTime = 0;
                hoverSound.play().catch(e => {});
            });
            el.addEventListener('mouseleave', () => cursorOutline.classList.remove('hover'));
            el.addEventListener('click', () => {
                clickSound.currentTime = 0;
                clickSound.play().catch(e => {});
            });
        });

        document.addEventListener('mouseenter', () => { cursorDot.classList.remove('hidden'); cursorOutline.classList.remove('hidden'); });
        document.addEventListener('mouseleave', () => { cursorDot.classList.add('hidden'); cursorOutline.classList.add('hidden'); });
      };

      // --- 3. Typed.js Animation ---
      const initTyped = () => {
        new Typed('#typed-text', {
          strings: ['Turning Ideas into Interactive Experiences.', 'Building the Decentralized Future.', 'Integrating Intelligence into Applications.', 'Let\'s build something amazing together.'],
          typeSpeed: 50, backSpeed: 25, backDelay: 1500, loop: true, smartBackspace: true,
        });
      };

      // --- 4. Scroll Reveal Animations ---
      const initScrollReveal = () => {
        const revealElements = document.querySelectorAll('.reveal');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); } });
        }, { threshold: 0.1 });
        revealElements.forEach(el => observer.observe(el));
      };
      
      // --- 5. Project Modal Logic ---
      const initProjectModal = () => {
        const modal = document.getElementById('project-modal');
        const modalContent = modal.querySelector('.modal-content');
        const closeBtn = document.getElementById('modal-close');
        const projectCards = document.querySelectorAll('.project-card');

        projectCards.forEach(card => {
            card.addEventListener('click', () => {
                document.getElementById('modal-image').src = card.dataset.image;
                document.getElementById('modal-title').textContent = card.dataset.title;
                document.getElementById('modal-description').textContent = card.dataset.description;
                
                const techContainer = document.getElementById('modal-tech');
                techContainer.innerHTML = '';
                card.dataset.tech.split(',').forEach(tech => {
                    const techPill = document.createElement('span');
                    techPill.className = 'bg-gray-700 text-sm text-[var(--primary-color)] px-3 py-1 rounded-full';
                    techPill.textContent = tech.trim();
                    techContainer.appendChild(techPill);
                });

                const linksContainer = document.getElementById('modal-links');
                linksContainer.innerHTML = `
                    <a href="${card.dataset.liveUrl}" target="_blank" class="bg-[var(--primary-color)] text-[var(--bg-color)] px-4 py-2 rounded-lg font-semibold hover:opacity-80 transition-opacity">Live Demo</a>
                    <a href="${card.dataset.githubUrl}" target="_blank" class="bg-transparent border border-[var(--primary-color)] text-[var(--primary-color)] px-4 py-2 rounded-lg font-semibold hover:bg-[var(--primary-color)] hover:text-black transition-colors">GitHub</a>
                `;

                modal.classList.remove('invisible', 'opacity-0');
                modalContent.classList.add('scale-100');
            });
        });

        const closeModal = () => { modal.classList.add('invisible', 'opacity-0'); modalContent.classList.remove('scale-100'); };
        closeBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });
      };

      // --- 6. Mobile Menu Logic ---
      const initMobileMenu = () => {
          const menuBtn = document.getElementById('menu-btn');
          const mobileMenu = document.getElementById('mobile-menu');
          const mobileLinks = document.querySelectorAll('.mobile-link');
          
          menuBtn.addEventListener('click', () => {
              mobileMenu.classList.toggle('translate-x-full');
          });

          mobileLinks.forEach(link => {
              link.addEventListener('click', () => {
                  mobileMenu.classList.add('translate-x-full');
              });
          });
      };

      // --- 7. Theme Customizer Logic ---
      const initThemeCustomizer = () => {
          const customizer = document.getElementById('theme-customizer');
          const toggleBtn = document.getElementById('customizer-toggle');
          const swatches = document.querySelectorAll('.color-swatch');

          toggleBtn.addEventListener('click', () => {
              customizer.classList.toggle('-right-48');
              customizer.classList.toggle('right-0');
          });

          swatches.forEach(swatch => {
              swatch.addEventListener('click', () => {
                  const color = swatch.dataset.color;
                  root.style.setProperty('--primary-color', color);
                  
                  const r = parseInt(color.slice(1, 3), 16);
                  const g = parseInt(color.slice(3, 5), 16);
                  const b = parseInt(color.slice(5, 7), 16);
                  root.style.setProperty('--primary-rgb', `${r}, ${g}, ${b}`);

                  document.dispatchEvent(new CustomEvent('themeChanged', { detail: { color: color } }));
              });
          });
          const initialColor = getComputedStyle(root).getPropertyValue('--primary-color').trim();
          const r = parseInt(initialColor.slice(1, 3), 16);
          const g = parseInt(initialColor.slice(3, 5), 16);
          const b = parseInt(initialColor.slice(5, 7), 16);
          root.style.setProperty('--primary-rgb', `${r}, ${g}, ${b}`);
      };

      // --- 8. AI Chatbot Logic ---
      const initChatbot = () => {
          const chatModal = document.getElementById('chat-modal');
          const chatModalContent = chatModal.querySelector('.modal-content');
          const openChatBtns = [document.getElementById('chat-btn'), document.getElementById('mobile-chat-btn')];
          const closeChatBtn = document.getElementById('chat-close');
          const chatForm = document.getElementById('chat-form');
          const chatInput = document.getElementById('chat-input');
          const chatLog = document.getElementById('chat-log');
          const chatLoading = document.getElementById('chat-loading');
          
          let chatHistory = [];

          const openChat = () => {
              chatModal.classList.remove('invisible', 'opacity-0');
              chatModalContent.classList.add('scale-100');
          };
          
          const closeChat = () => {
              chatModal.classList.add('invisible', 'opacity-0');
              chatModalContent.classList.remove('scale-100');
          };

          openChatBtns.forEach(btn => btn.addEventListener('click', openChat));
          closeChatBtn.addEventListener('click', closeChat);
          chatModal.addEventListener('click', (e) => { if(e.target === chatModal) closeChat(); });

          const appendMessage = (sender, message) => {
              const messageElement = document.createElement('div');
              messageElement.className = `flex ${sender === 'user' ? 'justify-end' : 'justify-start'}`;
              messageElement.innerHTML = `<div class="chat-bubble rounded-lg p-3">${message}</div>`;
              chatLog.appendChild(messageElement);
              chatLog.scrollTop = chatLog.scrollHeight;
          };

          const getAiResponse = async (prompt) => {
              chatLoading.classList.remove('hidden');
              
              chatHistory.push({ role: "user", parts: [{ text: prompt }] });

              const payload = { contents: chatHistory };
              const apiKey = "AIzaSyAOn-EljnEzbcG9dZOzRMSMZQSFGQCWthU"; // API key will be handled by the environment
              const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

              try {
                  const response = await fetch(apiUrl, {
                      method: 'POST',
                      headers: { 'Content-Type': 'application/json' },
                      body: JSON.stringify(payload)
                  });
                  const result = await response.json();
                  
                  let aiText = "Sorry, I couldn't process that. Please try again.";
                  if (result.candidates && result.candidates.length > 0 &&
                      result.candidates[0].content && result.candidates[0].content.parts &&
                      result.candidates[0].content.parts.length > 0) {
                      aiText = result.candidates[0].content.parts[0].text;
                  }
                  
                  chatHistory.push({ role: "model", parts: [{ text: aiText }] });
                  appendMessage('ai', aiText);

              } catch (error) {
                  console.error("Error calling Gemini API:", error);
                  appendMessage('ai', "An error occurred. Please check the console.");
              } finally {
                  chatLoading.classList.add('hidden');
              }
          };

          chatForm.addEventListener('submit', (e) => {
              e.preventDefault();
              const userInput = chatInput.value.trim();
              if (userInput) {
                  appendMessage('user', userInput);
                  getAiResponse(userInput);
                  chatInput.value = '';
              }
          });
      };


      // Initialize all features
      initThreeJS();
      initCursorAndSounds();
      initTyped();
      initScrollReveal();
      initProjectModal();
      initMobileMenu();
      initThemeCustomizer();
      initChatbot();
    });
  </script>
</body>
</html>
